<!DOCTYPE html>
<html>
    <head>
        <style>
        img {
            opacity: 0.0;
            filter: alpha(opacity=50); /* For IE8 and earlier */
        }
        </style>
    </head>
    <script type="application/javascript">
        function draw() {
            var cWidth = 226;
            var cHeight = 430;
            var servingPerCont = 8;
            var servingSize = '5';
            var servingSizeUnit = 'gallons';
            var servingSizeCalc = '100';
            var cal = 230;
            var totalFat = 8;
            var totalFatPerc = 8;
            var satFat = 1;
            var satFatPerc = 5;
            var transFat = 0;
            var cholest = 0;
            var cholestPerc = 0;
            var sodium = 160;
            var sodiumPerc = 7;
            var totalCarbs = 37;
            var totalCarbsPerc = 13;
            var fiber = 4;
            var fiberPerc = 14;
            var sugar = 12;
            var addSugar = 10;
            var addSugarPerc = 20;
            var protein = 3;
            
            //vitamin values
            var vitD = 2;
            var vitDPerc = 10;
            var calcium = 260
            var calciumPerc = 20;
            var iron = 8;
            var ironPerc = 45;
            var pota = 235;
            var potaPerc = 6;
            
            var canvas = document.getElementById('canvas');
            if (canvas.getContext) {
                var ctx = canvas.getContext('2d');
                
                //Outside Border
                ctx.lineWidth = 2;
                ctx.strokeRect(0, 0, canvas.width, canvas.height);
                
                //Nutrition Fact Heading
                ctx.font='800 22.7pt Helvetica';
                ctx.fillText('Nutrition Facts', 6, 29);
                
                //1/4 pt seperator line
                ctx.beginPath();
                ctx.moveTo(6, 34);
                ctx.lineWidth = 1;
                ctx.lineTo((cWidth - 6), 34);
                ctx.stroke();
                
                //Servings per container
                ctx.font='300 10pt Helvetica';
                ctx.fillText(servingPerCont + ' Servings Per Container', 6, 48);
                
                //Servings Size title
                ctx.font='900 11pt Helvetica';
                ctx.fillText('Serving size', 6, 64);
                
                //Servings Size qty
                
                //total string length calc
                var servingSizeLen = servingSize.length;
                var servingSizeUnitLen = servingSizeUnit.length;
                var servingSizeCalcLen = servingSizeCalc.length;
                var lengthServing = servingSizeLen + servingSizeUnitLen + servingSizeCalcLen;
                var lengthFactor = 11;
                var servingPlacement = lengthServing * lengthFactor;
                
                ctx.font='900 11pt Helvetica';
                ctx.textAlign="right"; 
                ctx.fillText(servingSize + ' ' + servingSizeUnit + ' (' + servingSizeCalc + 'g)', (cWidth - 6), 64);
                
                //7 pt seperator line
                ctx.beginPath();
                ctx.moveTo(6, 74);
                ctx.lineWidth = 7;
                ctx.lineTo((cWidth - 6), 74);
                ctx.stroke();
                
                //Amount Per Serving Title
                ctx.textAlign="start"; 
                ctx.font='900 8pt Helvetica';
                ctx.fillText('Amount per serving' + lengthServing, 6, 91);
                
                //Calories Title
                ctx.font='900 18pt Helvetica';
                ctx.fillText('Calories', 6, 112);
                
                //Calories Value
                ctx.textAlign="right";
                ctx.font='900 25pt Helvetica';
                ctx.fillText(cal, (cWidth - 6), 112);
                /*
                if (cal >= 1000){
                    ctx.fillText(cal, (cWidth - 79), 112);
                }else if (cal >= 100) {
                    ctx.fillText(cal, (cWidth - 61), 112);
                }else {
                    ctx.fillText(cal, (cWidth - 43), 112);
                }
                */
                
                //4 pt seperator line
                ctx.beginPath();
                ctx.moveTo(6, 120);
                ctx.lineWidth = 4;
                ctx.lineTo((cWidth - 6), 120);
                ctx.stroke();
                
                //% Daily Value
                ctx.font='900 8pt Helvetica';
                ctx.fillText('% Daily Value*', (cWidth - 6), 135);
                
                //1/4 pt seperator line
                ctx.beginPath();
                ctx.moveTo(6, 140);
                ctx.lineWidth = 1;
                ctx.lineTo((cWidth - 6), 140);
                ctx.stroke();
                
                //Total Fat
                ctx.textAlign="start"; 
                ctx.font='900 9pt Helvetica';
                ctx.fillText('Total Fat ', 6, 152);
                ctx.font='300 9pt Helvetica';
                ctx.fillText(totalFat + 'g', 62, 152);
                ctx.textAlign="right";
                ctx.font='900 9pt Helvetica';
                ctx.fillText(totalFatPerc + '%', (cWidth - 6), 152);
                ctx.beginPath();
                ctx.moveTo(6, 156);
                ctx.lineWidth = 1;
                ctx.lineTo((cWidth - 6), 156);
                ctx.stroke();
                
                //Sat Fat
                ctx.textAlign="start"; 
                ctx.font='300 9pt Helvetica';
                ctx.fillText('Saturated Fat  ' + satFat + 'g', 20, 169);
                ctx.textAlign="right";
                ctx.font='900 9pt Helvetica';
                ctx.fillText(satFatPerc + '%', (cWidth - 6), 169);
                ctx.beginPath();
                ctx.moveTo(6, 173);
                ctx.lineWidth = 1;
                ctx.lineTo((cWidth - 6), 173);
                ctx.stroke();
                
                //Trans Fat
                ctx.textAlign="start"; 
                ctx.font='300 italic 9pt Helvetica';
                ctx.fillText('Trans', 20, 186);
                ctx.font='300 9pt Helvetica';
                ctx.fillText('Fat  ' + transFat + 'g', 53, 186);
                ctx.beginPath();
                ctx.moveTo(6, 190);
                ctx.lineWidth = 1;
                ctx.lineTo((cWidth - 6), 190);
                ctx.stroke();
                
                //Cholesterol
                ctx.font='900 9pt Helvetica';
                ctx.fillText('Cholesterol ', 6, 203);
                ctx.font='300 9pt Helvetica';
                ctx.fillText(cholest + 'mg', 78, 203);
                ctx.textAlign="right";
                ctx.font='900 9pt Helvetica';
                ctx.fillText(cholestPerc + '%', (cWidth - 6), 203);
                ctx.beginPath();
                ctx.moveTo(6, 207);
                ctx.lineWidth = 1;
                ctx.lineTo((cWidth - 6), 207);
                ctx.stroke();
                
                //Sodium
                ctx.textAlign="start"; 
                ctx.font='900 9pt Helvetica';
                ctx.fillText('Sodium', 6, 220);
                ctx.font='300 9pt Helvetica';
                ctx.fillText(sodium + 'mg', 53, 220);
                ctx.textAlign="right";
                ctx.font='900 9pt Helvetica';
                ctx.fillText(sodiumPerc + '%', (cWidth - 6), 220);
                ctx.beginPath();
                ctx.moveTo(6, 224);
                ctx.lineWidth = 1;
                ctx.lineTo((cWidth - 6), 224);
                ctx.stroke();
                
                //Total Carbs
                ctx.textAlign="start"; 
                ctx.font='900 9pt Helvetica';
                ctx.fillText('Total Carbohydrate', 6, 237);
                ctx.font='300 9pt Helvetica';
                ctx.fillText(totalCarbs + 'g', 120, 237);
                ctx.textAlign="right";
                ctx.font='900 9pt Helvetica';
                ctx.fillText(totalCarbsPerc + '%', (cWidth - 6), 237);
                ctx.beginPath();
                ctx.moveTo(6, 241);
                ctx.lineWidth = 1;
                ctx.lineTo((cWidth - 6), 241);
                ctx.stroke();
                
                //Total Fiber
                ctx.textAlign="start";
                ctx.font='300 9pt Helvetica';
                ctx.fillText('Dietary Fiber  '+ fiber + 'g', 20, 254);
                ctx.textAlign="right";
                ctx.font='900 9pt Helvetica';
                ctx.fillText(fiberPerc + '%', (cWidth - 6), 254);
                ctx.beginPath();
                ctx.moveTo(6, 258);
                ctx.lineWidth = 1;
                ctx.lineTo((cWidth - 6), 258);
                ctx.stroke();
                
                //Total Sugars
                ctx.textAlign="start";
                ctx.font='300 9pt Helvetica';
                ctx.fillText('Total Sugars  ' + fiber + 'g', 20, 271);
                ctx.beginPath();
                ctx.moveTo(35, 275);
                ctx.lineWidth = 1;
                ctx.lineTo((cWidth - 6), 275);
                ctx.stroke();
                
                //Included Sugars
                ctx.font='300 9pt Helvetica';
                ctx.fillText('Includes', 35, 288);
                ctx.fillText(addSugar + 'g Added Sugars', 83, 288);
                ctx.textAlign="right";
                ctx.font='900 9pt Helvetica';
                ctx.fillText(addSugarPerc + '%', (cWidth - 6), 288);
                ctx.beginPath();
                ctx.moveTo(6, 291);
                ctx.lineWidth = 1;
                ctx.lineTo((cWidth - 6), 291);
                ctx.stroke();
                
                //Protein
                ctx.textAlign="start";
                ctx.font='900 9pt Helvetica';
                ctx.fillText('Protein', 6, 304);
                ctx.font='300 9pt Helvetica';
                ctx.fillText(protein + 'g', 51, 304);
                
                //7 pt seperator line
                ctx.beginPath();
                ctx.moveTo(6, 312);
                ctx.lineWidth = 7;
                ctx.lineTo((cWidth - 6), 312);
                ctx.stroke();
                
                
                ////Vitamin section//////
                //Vitamin D
                ctx.textAlign="start";
                ctx.font='300 9pt Helvetica';
                ctx.fillText('Vitamin D  ' + vitD + 'mcg', 6, 329);
                ctx.textAlign="right";
                ctx.fillText(vitDPerc + '%', (cWidth - 6), 329);
                ctx.beginPath();
                ctx.moveTo(6, 333);
                ctx.lineWidth = 1;
                ctx.lineTo((cWidth - 6), 333);
                ctx.stroke();
                
                //Calcium
                ctx.textAlign="start";
                ctx.font='300 9pt Helvetica';
                ctx.fillText('Calcium  ' + calcium + 'mg', 6, 346);
                ctx.textAlign="right";
                ctx.fillText(calciumPerc + '%', (cWidth - 6), 346);
                ctx.beginPath();
                ctx.moveTo(6, 350);
                ctx.lineWidth = 1;
                ctx.lineTo((cWidth - 6), 350);
                ctx.stroke();
            
                //Iron
                ctx.textAlign="start";
                ctx.font='300 9pt Helvetica';
                ctx.fillText('Iron  ' + iron + 'mg', 6, 363);
                ctx.textAlign="right";
                ctx.fillText(ironPerc + '%', (cWidth - 6), 363);
                ctx.beginPath();
                ctx.moveTo(6, 367);
                ctx.lineWidth = 1;
                ctx.lineTo((cWidth - 6), 367);
                ctx.stroke();
                
                //Potassium
                ctx.textAlign="start";
                ctx.font='300 9pt Helvetica';
                ctx.fillText('Potassium  ' + pota + 'mg', 6, 380);
                ctx.textAlign="right";
                ctx.fillText(potaPerc + '%', (cWidth - 6), 380);
                ctx.beginPath();
                ctx.moveTo(6, 386);
                ctx.lineWidth = 4;
                ctx.lineTo((cWidth - 6), 386);
                ctx.stroke();
                
                //Disclosure Section   eventually build out with wrap function
                ctx.textAlign="start";
                ctx.font='300 6.2pt Helvetica';
                ctx.fillText('* The % Daily Value (DV) tells you how much a nutrient in', 6, 400);
                ctx.fillText('a serving of food contributes to a daily diet. 2,000 calories', 6, 410);
                ctx.fillText('a day is used for general nutrition advice.', 6, 420);
                
                
                /* create main body with loop
                
            var mainInput = [
                {
                    leading: 0,
                    fontStyle: '900',
                    title: 'Total Fat ',
                    value: 8,
                    unit: 'g',
                    percentage: 10
                },
                {
                    leading: 20,
                    fontStyle: '300',
                    title: 'Saturated Fat ',
                    value: 1,
                    unit: 'g',
                    percentage: 5
                },
                {
                    leading: 20,
                    fontStyle: '300',
                    title: 'Trans Fat ',
                    value: 0,
                    unit: 'g',
                    percentage: " "
                },
                {
                    leading: 0,
                    fontStyle: '900',
                    title: 'Cholesterol ',
                    value: 0,
                    unit: 'mg',
                    percentage: 0
                },
                {
                    leading: 0,
                    fontStyle: '900',
                    title: 'Sodium ',
                    value: 160,
                    unit: 'mg',
                    percentage: 7
                },
                {
                    leading: 0,
                    fontStyle: '900',
                    title: 'Total Carbohydrate ',
                    value: 160,
                    unit: 'g',
                    percentage: 13
                },
                {
                    leading: 20,
                    fontStyle: '300',
                    title: 'Dietary Fiber ',
                    value: 4,
                    unit: 'g',
                    percentage: 14
                },
                {
                    leading: 20,
                    fontStyle: '300',
                    title: 'Total Sugars ',
                    value: 12,
                    unit: 'g',
                    percentage: ' '
                },
                {
                    leading: 44,
                    fontStyle: '300',
                    title: 'Includes ',
                    value: 10,
                    subtitle: 'Added Sugars',
                    unit: 'g',
                    percentage: 20
                },
                {
                    leading: 0,
                    fontStyle: '900',
                    title: 'Protein ',
                    value: 3,
                    unit: 'g',
                    percentage: ' '
                },
                ];
            
                need to add in character count and multiply by some amount for location of value after title
                
                mainInput.forEach(function(input){
                    ctx.font= input.fontStyle + ' 10pt Helvetica';
                    ctx.fillText(input.title, input.leading, startLoc);
                    ctx.font='300 10pt Helvetica';
                    ctx.fillText(input.value + input.unit, 64, startLoc);
                    ctx.font='900 10pt Helvetica';
                    ctx.fillText(totalFatPerc + '%', (cWidth - 25), 185);
                    ctx.beginPath();
                    ctx.moveTo(6, 156);
                    ctx.lineWidth = 1;
                    ctx.lineTo((cWidth - 6), 156);
                    ctx.stroke();
                    startLoc =+ 40;
                });
                */
                
                //need to use arrays to create main section
          }
        }
  </script>
  
    <body onload="draw();" style="">
        <img src="https://i.imgur.com/hzPiGxT.png" height="430" width="226" style="position:absolute; z-index:1;">
        <canvas id="canvas" width="226" height="430"></canvas>
    </body>
</html>